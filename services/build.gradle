buildscript {
    repositories {
        mavenCentral()
    }
}

plugins {
    id 'java'
    id 'com.diffplug.spotless' version '6.24.0'
}

subprojects {
    repositories {
        mavenCentral()
    }
    apply plugin: 'java'
    apply plugin: 'com.diffplug.spotless'
    dependencies {
        implementation 'org.springframework.kafka:spring-kafka:3.1.1'
        testImplementation 'org.springframework.kafka:spring-kafka:3.1.1'
        implementation 'org.projectlombok:lombok:1.18.30'
        annotationProcessor 'org.projectlombok:lombok:1.18.30'
        implementation 'org.springframework:spring-context:6.1.3'
        implementation 'org.mongodb:mongodb-driver-core:4.11.1'
        implementation 'org.mongodb:mongodb-driver-sync:4.11.1'
        implementation 'org.mongodb:bson:4.11.1'
    }
    spotless {
        java {
            target fileTree('.') {
                include '**/*.java'
                exclude '**/build/**', '**/build-*/**'
            }
            googleJavaFormat()
            licenseHeader '/* WeSmooth! $YEAR */'
        }
    }
}